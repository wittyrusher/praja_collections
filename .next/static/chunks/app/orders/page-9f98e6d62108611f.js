(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{4486:function(e,t,r){Promise.resolve().then(r.bind(r,5343))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&r.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:o="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:i?24*Number(c)/Number(a):c,className:n("lucide",o),...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:i,...o}=r;return(0,s.createElement)(c,{ref:l,iconNode:t,className:n("lucide-".concat(a(e)),i),...o})});return r.displayName="".concat(e),r}},2208:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4794:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},2449:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5343:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(7437),a=r(2265),n=r(605),l=r(9376),c=r(7648),i=r(2449),o=r(4794),d=r(2208),u=r(2746),m=r(1215),x=r(6334),p=r(7099);function h(){let{data:e,status:t}=(0,n.useSession)(),r=(0,l.useRouter)(),[h,y]=(0,a.useState)([]),[f,g]=(0,a.useState)(!0),[v,b]=(0,a.useState)("all");(0,a.useEffect)(()=>{"unauthenticated"===t?r.push("/login?redirect=/orders"):"authenticated"===t&&j()},[t,v]);let j=async()=>{g(!0);try{let e="all"===v?"/api/orders":"/api/orders?status=".concat(v),t=await fetch(e),r=await t.json();r.success&&y(r.orders)}catch(e){console.error("Error fetching orders:",e)}finally{g(!1)}},w=e=>{let t=p.DF.find(t=>t.value===e);return({yellow:"bg-yellow-100 text-yellow-800 border-yellow-300",blue:"bg-white-100 text-blue-800 border-blue-300",purple:"bg-purple-100 text-purple-800 border-purple-300",green:"bg-green-100 text-green-800 border-green-300",red:"bg-red-100 text-red-800 border-red-300"})[(null==t?void 0:t.color)||"yellow"]};return"loading"===t||f?(0,s.jsx)(m.Z,{text:"Loading your orders..."}):e?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Orders"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Track and manage your orders"})]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md mb-6",children:(0,s.jsxs)("div",{className:"flex overflow-x-auto",children:[(0,s.jsxs)("button",{onClick:()=>b("all"),className:"px-6 py-4 font-medium whitespace-nowrap border-b-2 transition ".concat("all"===v?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"),children:["All Orders (",h.length,")"]}),p.DF.map(e=>(0,s.jsx)("button",{onClick:()=>b(e.value),className:"px-6 py-4 font-medium whitespace-nowrap border-b-2 transition ".concat(v===e.value?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"),children:e.label},e.value))]})}),f?(0,s.jsx)(m.Z,{text:"Loading orders..."}):0===h.length?(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[(0,s.jsx)(i.Z,{className:"w-20 h-20 mx-auto text-gray-300 mb-4"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No orders found"}),(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"all"===v?"You haven't placed any orders yet":"No ".concat(v," orders found")}),(0,s.jsx)(c.default,{href:"/products",children:(0,s.jsx)(x.Z,{children:"Start Shopping"})})]}):(0,s.jsx)("div",{className:"space-y-4",children:h.map(e=>{var t;return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(o.Z,{className:"w-6 h-6 text-primary-600"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-semibold text-gray-900",children:["Order #",e._id.slice(-8).toUpperCase()]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Placed on ",(0,u.p6)(e.createdAt)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold border ".concat(w(e.orderStatus)),children:(null===(t=p.DF.find(t=>t.value===e.orderStatus))||void 0===t?void 0:t.label)||e.orderStatus}),(0,s.jsx)(c.default,{href:"/orders/".concat(e._id),children:(0,s.jsxs)(x.Z,{size:"sm",variant:"outline",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-1"}),"View"]})})]})]}),(0,s.jsx)("div",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[e.items.slice(0,3).map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"relative w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:"object"==typeof e.product&&e.product.images?(0,s.jsx)("img",{src:e.product.images[0]||"/placeholder-product.jpg",alt:e.product.name,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(o.Z,{className:"w-8 h-8 text-gray-400"})})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:"object"==typeof e.product?e.product.name:"Product"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity," â€¢ ",(0,u.xG)(e.price)]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:(0,u.xG)(e.price*e.quantity)})})]},t)),e.items.length>3&&(0,s.jsxs)("p",{className:"text-sm text-gray-600 text-center pt-2",children:["+",e.items.length-3," more item(s)"]})]})}),(0,s.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-t flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Payment:"})," ",(0,s.jsx)("span",{className:"font-semibold ".concat("completed"===e.paymentInfo.paymentStatus?"text-green-600":"failed"===e.paymentInfo.paymentStatus?"text-red-600":"text-yellow-600"),children:e.paymentInfo.paymentStatus.toUpperCase()})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Delivery to:"})," ",e.shippingAddress.city,", ",e.shippingAddress.state]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Total Amount"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:(0,u.xG)(e.totalAmount)})]})]})]},e._id)})}),!f&&0===h.length&&"all"!==v&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsxs)("p",{className:"text-gray-500",children:['No orders with status "',v,'" found']}),(0,s.jsx)("button",{onClick:()=>b("all"),className:"mt-4 text-primary-600 hover:text-primary-700 font-medium",children:"View all orders"})]})]}):null}},6334:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(7437);function a(e){let{variant:t="primary",size:r="md",isLoading:a=!1,children:n,className:l="",disabled:c,...i}=e;return(0,s.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-600 text-white hover:bg-red-700",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(l),disabled:c||a,...i,children:a?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n})}r(2265)},1215:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(7437);function a(e){let{size:t="md",text:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsxs)("svg",{className:"animate-spin text-primary-600 ".concat({sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"}[t]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r&&(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:r})]})}r(2265)},7099:function(e,t,r){"use strict";r.d(t,{DF:function(){return c},DM:function(){return l},aA:function(){return a},iC:function(){return s},zf:function(){return n}});let s="Praja Collections",a=[{name:"Men",slug:"men"},{name:"Women",slug:"women"},{name:"Kids",slug:"kids"},{name:"Accessories",slug:"accessories"},{name:"Footwear",slug:"footwear"}],n=["XS","S","M","L","XL","XXL"],l=[{name:"Black",value:"#000000"},{name:"White",value:"#FFFFFF"},{name:"Red",value:"#EF4444"},{name:"Blue",value:"#3B82F6"},{name:"Green",value:"#10B981"},{name:"Yellow",value:"#F59E0B"}],c=[{value:"pending",label:"Pending",color:"yellow"},{value:"processing",label:"Processing",color:"blue"},{value:"shipped",label:"Shipped",color:"purple"},{value:"delivered",label:"Delivered",color:"green"},{value:"cancelled",label:"Cancelled",color:"red"}]},2746:function(e,t,r){"use strict";r.d(t,{Et:function(){return n},p6:function(){return a},xG:function(){return s}});let s=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),a=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),n=(e,t)=>Math.round((e-t)/e*100)}},function(e){e.O(0,[648,605,971,117,744],function(){return e(e.s=4486)}),_N_E=e.O()}]);