(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{505:function(e,r,t){Promise.resolve().then(t.bind(t,2242))},9205:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var s=t(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&t.indexOf(e)===r).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)((e,r)=>{let{color:t="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:d="",children:o,iconNode:m,...u}=e;return(0,s.createElement)("svg",{ref:r,...n,width:a,height:a,stroke:t,strokeWidth:i?24*Number(c)/Number(a):c,className:l("lucide",d),...u},[...m.map(e=>{let[r,t]=e;return(0,s.createElement)(r,t)}),...Array.isArray(o)?o:[o]])}),i=(e,r)=>{let t=(0,s.forwardRef)((t,n)=>{let{className:i,...d}=t;return(0,s.createElement)(c,{ref:n,iconNode:r,className:l("lucide-".concat(a(e)),i),...d})});return t.displayName="".concat(e),t}},2660:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4794:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},2242:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var s=t(7437),a=t(2265),l=t(9376),n=t(605),c=t(7648),i=t(2660),d=t(9205);let o=(0,d.Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var m=t(4794);let u=(0,d.Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),x=(0,d.Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var p=t(2746),h=t(1215),f=t(6334),y=t(7099),g=t(9064);function b(){var e;let r;let t=(0,l.useParams)(),d=(0,l.useRouter)(),{data:b,status:j}=(0,n.useSession)(),[N,v]=(0,a.useState)(null),[w,k]=(0,a.useState)(!0);(0,a.useEffect)(()=>{"unauthenticated"===j?d.push("/login?redirect=/orders"):"authenticated"===j&&S()},[j,t.id]);let S=async()=>{try{let e=await fetch("/api/orders/".concat(t.id)),r=await e.json();r.success?v(r.order):(g.ZP.error("Order not found"),d.push("/orders"))}catch(e){console.error("Error fetching order:",e),g.ZP.error("Failed to load order")}finally{k(!1)}};if("loading"===j||w)return(0,s.jsx)(h.Z,{text:"Loading order details..."});if(!b||!N)return null;let C=(r=N.orderStatus,y.DF.findIndex(e=>e.value===r));return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)(c.default,{href:"/orders",className:"inline-flex items-center text-primary-600 hover:text-primary-700 mb-6",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Back to Orders"]}),(0,s.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Order #",N._id.slice(-8).toUpperCase()]}),(0,s.jsxs)("p",{className:"text-gray-600",children:["Placed on ",(0,p.p6)(N.createdAt)]})]}),(0,s.jsx)("div",{className:"flex items-center space-x-3",children:(0,s.jsx)("span",{className:"px-4 py-2 rounded-full text-sm font-semibold border ".concat((e=>{let r=y.DF.find(r=>r.value===e);return({yellow:"bg-yellow-100 text-yellow-800 border-yellow-300",blue:"bg-white-100 text-blue-800 border-blue-300",purple:"bg-purple-100 text-purple-800 border-purple-300",green:"bg-green-100 text-green-800 border-green-300",red:"bg-red-100 text-red-800 border-red-300"})[(null==r?void 0:r.color)||"yellow"]})(N.orderStatus)),children:(null===(e=y.DF.find(e=>e.value===N.orderStatus))||void 0===e?void 0:e.label)||N.orderStatus})})]})}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Order Status"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),y.DF.filter(e=>"cancelled"!==e.value).map((e,r)=>{let t=r<=C;return(0,s.jsxs)("div",{className:"relative flex items-start mb-8 last:mb-0",children:[(0,s.jsx)("div",{className:"relative z-10 flex items-center justify-center w-8 h-8 rounded-full border-2 ".concat(t?"bg-primary-600 border-primary-600":"bg-white border-gray-300"),children:t&&(0,s.jsx)(o,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("p",{className:"font-semibold ".concat(t?"text-gray-900":"text-gray-500"),children:e.label}),r===C&&(0,s.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Current Status"})]})]},e.value)})]}),"cancelled"===N.orderStatus&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-red-800 font-semibold",children:"Order Cancelled"}),(0,s.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"This order has been cancelled"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Order Items"}),(0,s.jsx)("div",{className:"space-y-4",children:N.items.map((e,r)=>(0,s.jsxs)("div",{className:"flex items-center space-x-4 pb-4 border-b last:border-b-0",children:[(0,s.jsx)("div",{className:"relative w-20 h-20 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:"object"==typeof e.product&&e.product.images?(0,s.jsx)("img",{src:e.product.images[0]||"/placeholder-product.jpg",alt:e.product.name,className:"w-full h-full object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,s.jsx)(m.Z,{className:"w-10 h-10 text-gray-400"})})}),(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("h3",{className:"font-semibold text-gray-900",children:"object"==typeof e.product?e.product.name:"Product"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e.size&&"Size: ".concat(e.size),e.size&&e.color&&" â€¢ ",e.color&&"Color: ".concat(e.color)]}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity," \xd7 ",(0,p.xG)(e.price)]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsx)("p",{className:"font-bold text-gray-900",children:(0,p.xG)(e.price*e.quantity)})})]},r))}),(0,s.jsxs)("div",{className:"mt-6 pt-6 border-t space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,s.jsx)("span",{className:"font-semibold",children:(0,p.xG)(N.items.reduce((e,r)=>e+r.price*r.quantity,0))})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,s.jsx)("span",{className:"font-semibold",children:"FREE"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Tax (GST 18%)"}),(0,s.jsxs)("span",{className:"font-semibold",children:[(0,p.xG)(.153*N.totalAmount)," "]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsx)("span",{className:"text-primary-600",children:(0,p.xG)(N.totalAmount)})]})]})]})}),(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(u,{className:"w-5 h-5 text-primary-600"}),(0,s.jsx)("h3",{className:"font-bold text-gray-900",children:"Shipping Address"})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:N.shippingAddress.name}),(0,s.jsx)("p",{children:N.shippingAddress.phone}),(0,s.jsx)("p",{className:"mt-2",children:N.shippingAddress.street}),(0,s.jsxs)("p",{children:[N.shippingAddress.city,", ",N.shippingAddress.state]}),(0,s.jsxs)("p",{children:[N.shippingAddress.pincode,", ",N.shippingAddress.country]})]})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,s.jsx)(x,{className:"w-5 h-5 text-primary-600"}),(0,s.jsx)("h3",{className:"font-bold text-gray-900",children:"Payment Information"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Payment Method"}),(0,s.jsx)("span",{className:"font-semibold",children:"Razorpay"})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-600",children:"Payment Status"}),(0,s.jsx)("span",{className:"font-semibold ".concat("completed"===N.paymentInfo.paymentStatus?"text-green-600":"failed"===N.paymentInfo.paymentStatus?"text-red-600":"text-yellow-600"),children:N.paymentInfo.paymentStatus.toUpperCase()})]}),N.paymentInfo.razorpayPaymentId&&(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-4 pt-4 border-t",children:[(0,s.jsx)("p",{children:"Payment ID:"}),(0,s.jsx)("p",{className:"font-mono break-all",children:N.paymentInfo.razorpayPaymentId})]})]})]}),(0,s.jsxs)("div",{className:"bg-primary-50 rounded-lg p-6 border border-primary-200",children:[(0,s.jsx)("h3",{className:"font-bold text-primary-900 mb-2",children:"Need Help?"}),(0,s.jsx)("p",{className:"text-sm text-primary-800 mb-4",children:"Contact our customer support for any order-related queries."}),(0,s.jsx)(f.Z,{variant:"primary",size:"sm",className:"w-full",children:"Contact Support"})]})]})]})]})}},6334:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var s=t(7437);function a(e){let{variant:r="primary",size:t="md",isLoading:a=!1,children:l,className:n="",disabled:c,...i}=e;return(0,s.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-600 text-white hover:bg-red-700",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[t]," ").concat(n),disabled:c||a,...i,children:a?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):l})}t(2265)},1215:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var s=t(7437);function a(e){let{size:r="md",text:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsxs)("svg",{className:"animate-spin text-primary-600 ".concat({sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"}[r]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t&&(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:t})]})}t(2265)},7099:function(e,r,t){"use strict";t.d(r,{DF:function(){return c},DM:function(){return n},aA:function(){return a},iC:function(){return s},zf:function(){return l}});let s="Praja Collections",a=[{name:"Men",slug:"men"},{name:"Women",slug:"women"},{name:"Kids",slug:"kids"},{name:"Accessories",slug:"accessories"},{name:"Footwear",slug:"footwear"}],l=["XS","S","M","L","XL","XXL"],n=[{name:"Black",value:"#000000"},{name:"White",value:"#FFFFFF"},{name:"Red",value:"#EF4444"},{name:"Blue",value:"#3B82F6"},{name:"Green",value:"#10B981"},{name:"Yellow",value:"#F59E0B"}],c=[{value:"pending",label:"Pending",color:"yellow"},{value:"processing",label:"Processing",color:"blue"},{value:"shipped",label:"Shipped",color:"purple"},{value:"delivered",label:"Delivered",color:"green"},{value:"cancelled",label:"Cancelled",color:"red"}]},2746:function(e,r,t){"use strict";t.d(r,{Et:function(){return l},p6:function(){return a},xG:function(){return s}});let s=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),a=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),l=(e,r)=>Math.round((e-r)/e*100)}},function(e){e.O(0,[64,648,605,971,117,744],function(){return e(e.s=505)}),_N_E=e.O()}]);