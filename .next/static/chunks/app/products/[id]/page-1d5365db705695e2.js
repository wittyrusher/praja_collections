(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{5033:function(e,t,r){Promise.resolve().then(r.bind(r,4330))},8997:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},6275:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},5523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return s}});let s=r(7043)._(r(2265)).default.createContext(null)},4330:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(7437),c=r(2265),a=r(9376),i=r(3145),n=r(6275),l=r(8997),o=r(9205);let d=(0,o.Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),u=(0,o.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),m=(0,o.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var x=r(2746),p=r(6059),h=r(6334),y=r(1215),f=r(9064);function g(){let e=(0,a.useParams)(),t=(0,a.useRouter)(),{addToCart:r}=(0,p.j)(),[o,g]=(0,c.useState)(null),[b,j]=(0,c.useState)(!0),[v,N]=(0,c.useState)(0),[k,w]=(0,c.useState)(""),[C,P]=(0,c.useState)(""),[S,Z]=(0,c.useState)(1);(0,c.useEffect)(()=>{I()},[e.id]);let I=async()=>{try{let c=await fetch("/api/products/".concat(e.id)),a=await c.json();if(a.success){var r,s;g(a.product),(null===(r=a.product.sizes)||void 0===r?void 0:r.length)>0&&w(a.product.sizes[0]),(null===(s=a.product.colors)||void 0===s?void 0:s.length)>0&&P(a.product.colors[0])}else f.ZP.error("Product not found"),t.push("/products")}catch(e){console.error("Error fetching product:",e),f.ZP.error("Failed to load product")}finally{j(!1)}};if(b)return(0,s.jsx)(y.Z,{text:"Loading product..."});if(!o)return(0,s.jsx)("div",{className:"container mx-auto px-4 py-16 text-center",children:(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Product not found"})});let z=o.discountPrice?(0,x.Et)(o.price,o.discountPrice):0;return(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden mb-4",children:[(0,s.jsx)(i.default,{src:o.images[v]||"/placeholder-product.jpg",alt:o.name,fill:!0,className:"object-cover"}),z>0&&(0,s.jsxs)("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-md font-semibold",children:[z,"% OFF"]})]}),o.images.length>1&&(0,s.jsx)("div",{className:"grid grid-cols-4 gap-4",children:o.images.map((e,t)=>(0,s.jsx)("button",{onClick:()=>N(t),className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden ".concat(v===t?"ring-2 ring-primary-600":""),children:(0,s.jsx)(i.default,{src:e,alt:"".concat(o.name," ").concat(t+1),fill:!0,className:"object-cover"})},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:o.name}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:o.category}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,s.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:(0,x.xG)(o.discountPrice||o.price)}),o.discountPrice&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xl text-gray-500 line-through",children:(0,x.xG)(o.price)}),(0,s.jsxs)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-md font-semibold",children:["Save ",(0,x.xG)(o.price-o.discountPrice)]})]})]}),(0,s.jsx)("p",{className:"text-gray-700 mb-6",children:o.description}),o.sizes&&o.sizes.length>0&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block font-semibold mb-2",children:"Select Size"}),(0,s.jsx)("div",{className:"flex space-x-2",children:o.sizes.map(e=>(0,s.jsx)("button",{onClick:()=>w(e),className:"px-4 py-2 border rounded-lg ".concat(k===e?"border-primary-600 bg-primary-50 text-primary-600":"border-gray-300 hover:border-gray-400"),children:e},e))})]}),o.colors&&o.colors.length>0&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block font-semibold mb-2",children:"Select Color"}),(0,s.jsx)("div",{className:"flex space-x-2",children:o.colors.map(e=>(0,s.jsx)("button",{onClick:()=>P(e),className:"px-4 py-2 border rounded-lg ".concat(C===e?"border-primary-600 bg-primary-50 text-primary-600":"border-gray-300 hover:border-gray-400"),children:e},e))})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block font-semibold mb-2",children:"Quantity"}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("button",{onClick:()=>Z(e=>Math.max(1,e-1)),className:"px-4 py-2 border rounded-lg hover:bg-gray-100",children:"-"}),(0,s.jsx)("span",{className:"text-xl font-semibold w-12 text-center",children:S}),(0,s.jsx)("button",{onClick:()=>Z(e=>Math.min(o.stock,e+1)),className:"px-4 py-2 border rounded-lg hover:bg-gray-100",children:"+"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[o.stock," items available"]})]})]}),(0,s.jsxs)("div",{className:"flex space-x-4 mb-8",children:[(0,s.jsxs)(h.Z,{onClick:()=>{if(o){if(0===o.stock){f.ZP.error("Product is out of stock");return}if(S>o.stock){f.ZP.error("Only ".concat(o.stock," items available"));return}r({productId:o._id,name:o.name,price:o.discountPrice||o.price,quantity:S,image:o.images[0],size:k,color:C,stock:o.stock})}},disabled:0===o.stock,className:"flex-1",children:[(0,s.jsx)(n.Z,{className:"w-5 h-5 mr-2"}),"Add to Cart"]}),(0,s.jsx)(h.Z,{variant:"outline",children:(0,s.jsx)(l.Z,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"border-t pt-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(d,{className:"w-6 h-6 text-primary-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:"Free Delivery"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"On orders above â‚¹999"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(u,{className:"w-6 h-6 text-primary-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:"Easy Returns"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"7-day return policy"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(m,{className:"w-6 h-6 text-primary-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:"Secure Payment"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"100% secure transactions"})]})]})]})]})]})})}},6334:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(7437);function c(e){let{variant:t="primary",size:r="md",isLoading:c=!1,children:a,className:i="",disabled:n,...l}=e;return(0,s.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-600 text-white hover:bg-red-700",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(i),disabled:n||c,...l,children:c?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):a})}r(2265)},1215:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var s=r(7437);function c(e){let{size:t="md",text:r}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsxs)("svg",{className:"animate-spin text-primary-600 ".concat({sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"}[t]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r&&(0,s.jsx)("p",{className:"mt-4 text-gray-600",children:r})]})}r(2265)},6059:function(e,t,r){"use strict";r.d(t,{CartProvider:function(){return n},j:function(){return l}});var s=r(7437),c=r(2265),a=r(9064);let i=(0,c.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,c.useState)({items:[],totalItems:0,totalPrice:0});(0,c.useEffect)(()=>{let e=localStorage.getItem("cart");e&&n(JSON.parse(e))},[]),(0,c.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);let l=e=>{n(t=>{let r=t.items.filter(t=>t.productId!==e),s=r.reduce((e,t)=>e+t.quantity,0),c=r.reduce((e,t)=>e+t.price*t.quantity,0);return a.Am.success("Item removed from cart"),{items:r,totalItems:s,totalPrice:c}})};return(0,s.jsx)(i.Provider,{value:{cart:r,addToCart:e=>{n(t=>{let r;t.items.find(t=>t.productId===e.productId&&t.size===e.size&&t.color===e.color)?(r=t.items.map(t=>t.productId===e.productId&&t.size===e.size&&t.color===e.color?{...t,quantity:t.quantity+e.quantity}:t),a.Am.success("Item quantity updated")):(r=[...t.items,e],a.Am.success("Item added to cart"));let s=r.reduce((e,t)=>e+t.quantity,0),c=r.reduce((e,t)=>e+t.price*t.quantity,0);return{items:r,totalItems:s,totalPrice:c}})},removeFromCart:l,updateQuantity:(e,t)=>{if(t<=0){l(e);return}n(r=>{let s=r.items.map(r=>r.productId===e?{...r,quantity:t}:r),c=s.reduce((e,t)=>e+t.quantity,0),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return{items:s,totalItems:c,totalPrice:a}})},clearCart:()=>{n({items:[],totalItems:0,totalPrice:0}),a.Am.success("Cart cleared")},getCartTotal:()=>r.totalPrice},children:t})}function l(){let e=(0,c.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},2746:function(e,t,r){"use strict";r.d(t,{Et:function(){return a},p6:function(){return c},xG:function(){return s}});let s=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),c=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),a=(e,t)=>Math.round((e-t)/e*100)}},function(e){e.O(0,[64,157,971,117,744],function(){return e(e.s=5033)}),_N_E=e.O()}]);