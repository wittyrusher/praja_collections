(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{9425:function(e,t,s){Promise.resolve().then(s.bind(s,5541))},8997:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},6275:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},5541:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(7437),a=s(2265),c=s(9376),n=s(9048);function l(e){let{products:t}=e;return 0===t.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"No products found"})}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map(e=>(0,r.jsx)(n.default,{product:e},e._id))})}var i=s(7099);function o(){let e=(0,c.useRouter)(),t=(0,c.useSearchParams)(),s=t.get("category"),a=s=>{let r=new URLSearchParams(t.toString());"all"===s?r.delete("category"):r.set("category",s),e.push("/products?".concat(r.toString()))};return(0,r.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg shadow-md",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Categories"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("button",{onClick:()=>a("all"),className:"w-full text-left px-4 py-2 rounded-lg transition ".concat(s?"hover:bg-black":"bg-primary-600 text-white"),children:"All Products"}),i.aA.map(e=>(0,r.jsx)("button",{onClick:()=>a(e.slug),className:"w-full text-left px-4 py-2 rounded-lg transition ".concat(s===e.slug?"bg-primary-600 text-white":"hover:bg-black"),children:e.name},e.slug))]})]})}var d=s(1215);function u(){let e=(0,c.useSearchParams)(),[t,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),[u,m]=(0,a.useState)(1),[p,x]=(0,a.useState)(1);(0,a.useEffect)(()=>{h()},[e,p]);let h=async()=>{i(!0);try{let t=new URLSearchParams(e.toString());t.set("page",p.toString());let r=await fetch("/api/products?".concat(t.toString())),a=await r.json();a.success&&(s(a.products),m(a.pagination.pages))}catch(e){console.error("Error fetching products:",e)}finally{i(!1)}};return n?(0,r.jsx)(d.Z,{text:"Loading products..."}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"All Products"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-1",children:[(0,r.jsx)(o,{}),(0,r.jsxs)("div",{className:"bg-gray-900 p-4 rounded-lg shadow-md mt-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Price Range"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"rounded"}),(0,r.jsx)("span",{className:"text-sm",children:"Under ₹500"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"rounded"}),(0,r.jsx)("span",{className:"text-sm",children:"₹500 - ₹1000"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"rounded"}),(0,r.jsx)("span",{className:"text-sm",children:"₹1000 - ₹2000"})]}),(0,r.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,r.jsx)("input",{type:"checkbox",className:"rounded"}),(0,r.jsx)("span",{className:"text-sm",children:"Above ₹2000"})]})]})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("p",{className:"text-gray-600",children:["Showing ",t.length," products"]}),(0,r.jsxs)("select",{className:"border rounded-lg px-4 py-2",children:[(0,r.jsx)("option",{children:"Sort by: Featured"}),(0,r.jsx)("option",{children:"Price: Low to High"}),(0,r.jsx)("option",{children:"Price: High to Low"}),(0,r.jsx)("option",{children:"Newest First"})]})]}),(0,r.jsx)(l,{products:t}),u>1&&(0,r.jsxs)("div",{className:"flex justify-center mt-8 space-x-2",children:[(0,r.jsx)("button",{onClick:()=>x(e=>Math.max(1,e-1)),disabled:1===p,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Previous"}),Array.from({length:u},(e,t)=>t+1).map(e=>(0,r.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 rounded-lg ".concat(p===e?"bg-primary-600 text-white":"border hover:bg-gray-100"),children:e},e)),(0,r.jsx)("button",{onClick:()=>x(e=>Math.min(u,e+1)),disabled:p===u,className:"px-4 py-2 border rounded-lg disabled:opacity-50",children:"Next"})]})]})]})]})}},9048:function(e,t,s){"use strict";s.d(t,{default:function(){return u}});var r=s(7437);s(2265);var a=s(7648),c=s(3145),n=s(8997),l=s(6275),i=s(2746),o=s(6059),d=s(9064);function u(e){let{product:t}=e,{addToCart:s}=(0,o.j)(),u=t.discountPrice?(0,i.Et)(t.price,t.discountPrice):0;return(0,r.jsx)(a.default,{href:"/products/".concat(t._id),children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow duration-300 group",children:[(0,r.jsxs)("div",{className:"relative aspect-square overflow-hidden bg-gray-100",children:[(0,r.jsx)(c.default,{src:t.images[0]||"/placeholder-product.jpg",alt:t.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}),u>0&&(0,r.jsxs)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-md text-sm font-semibold",children:[u,"% OFF"]}),0===t.stock&&(0,r.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,r.jsx)("span",{className:"bg-white text-gray-900 px-4 py-2 rounded-md font-semibold",children:"Out of Stock"})}),(0,r.jsx)("button",{className:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md hover:bg-gray-100 transition opacity-0 group-hover:opacity-100",onClick:e=>{e.preventDefault(),e.stopPropagation(),d.ZP.success("Added to wishlist")},children:(0,r.jsx)(n.Z,{className:"w-5 h-5 text-gray-600"})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:t.category}),(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 min-h-[3rem]",children:t.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-gray-900",children:(0,i.xG)(t.discountPrice||t.price)}),t.discountPrice&&(0,r.jsx)("span",{className:"text-sm text-gray-500 line-through",children:(0,i.xG)(t.price)})]}),(0,r.jsxs)("button",{onClick:e=>{if(e.preventDefault(),e.stopPropagation(),0===t.stock){d.ZP.error("Product is out of stock");return}s({productId:t._id,name:t.name,price:t.discountPrice||t.price,quantity:1,image:t.images[0],stock:t.stock})},disabled:0===t.stock,className:"w-full bg-primary-600 text-white py-2 rounded-lg hover:bg-primary-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[(0,r.jsx)(l.Z,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:0===t.stock?"Out of Stock":"Add to Cart"})]})]})]})})}},1215:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437);function a(e){let{size:t="md",text:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsxs)("svg",{className:"animate-spin text-primary-600 ".concat({sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16"}[t]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s&&(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:s})]})}s(2265)},6059:function(e,t,s){"use strict";s.d(t,{CartProvider:function(){return l},j:function(){return i}});var r=s(7437),a=s(2265),c=s(9064);let n=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,a.useState)({items:[],totalItems:0,totalPrice:0});(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");e&&l(JSON.parse(e))},[]),(0,a.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(s))},[s]);let i=e=>{l(t=>{let s=t.items.filter(t=>t.productId!==e),r=s.reduce((e,t)=>e+t.quantity,0),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return c.Am.success("Item removed from cart"),{items:s,totalItems:r,totalPrice:a}})};return(0,r.jsx)(n.Provider,{value:{cart:s,addToCart:e=>{l(t=>{let s;t.items.find(t=>t.productId===e.productId&&t.size===e.size&&t.color===e.color)?(s=t.items.map(t=>t.productId===e.productId&&t.size===e.size&&t.color===e.color?{...t,quantity:t.quantity+e.quantity}:t),c.Am.success("Item quantity updated")):(s=[...t.items,e],c.Am.success("Item added to cart"));let r=s.reduce((e,t)=>e+t.quantity,0),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return{items:s,totalItems:r,totalPrice:a}})},removeFromCart:i,updateQuantity:(e,t)=>{if(t<=0){i(e);return}l(s=>{let r=s.items.map(s=>s.productId===e?{...s,quantity:t}:s),a=r.reduce((e,t)=>e+t.quantity,0),c=r.reduce((e,t)=>e+t.price*t.quantity,0);return{items:r,totalItems:a,totalPrice:c}})},clearCart:()=>{l({items:[],totalItems:0,totalPrice:0}),c.Am.success("Cart cleared")},getCartTotal:()=>s.totalPrice},children:t})}function i(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},7099:function(e,t,s){"use strict";s.d(t,{DF:function(){return l},DM:function(){return n},aA:function(){return a},iC:function(){return r},zf:function(){return c}});let r="Praja Collections",a=[{name:"Men",slug:"men"},{name:"Women",slug:"women"},{name:"Kids",slug:"kids"},{name:"Accessories",slug:"accessories"},{name:"Footwear",slug:"footwear"}],c=["XS","S","M","L","XL","XXL"],n=[{name:"Black",value:"#000000"},{name:"White",value:"#FFFFFF"},{name:"Red",value:"#EF4444"},{name:"Blue",value:"#3B82F6"},{name:"Green",value:"#10B981"},{name:"Yellow",value:"#F59E0B"}],l=[{value:"pending",label:"Pending",color:"yellow"},{value:"processing",label:"Processing",color:"blue"},{value:"shipped",label:"Shipped",color:"purple"},{value:"delivered",label:"Delivered",color:"green"},{value:"cancelled",label:"Cancelled",color:"red"}]},2746:function(e,t,s){"use strict";s.d(t,{Et:function(){return c},p6:function(){return a},xG:function(){return r}});let r=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),a=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),c=(e,t)=>Math.round((e-t)/e*100)}},function(e){e.O(0,[64,648,157,971,117,744],function(){return e(e.s=9425)}),_N_E=e.O()}]);