(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{4414:function(e,t,s){Promise.resolve().then(s.bind(s,706))},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2449:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},706:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437);s(2265);var a=s(7648),n=s(2449),c=s(6059),i=s(3145);let l=(0,s(9205).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var d=s(9397),o=s(8930),u=s(2746);function m(e){let{item:t}=e,{updateQuantity:s,removeFromCart:a}=(0,c.j)(),n=e=>{e>t.stock||s(t.productId,e)};return(0,r.jsxs)("div",{className:"flex items-center space-x-4 py-4 border-b",children:[(0,r.jsx)("div",{className:"relative w-24 h-24 flex-shrink-0 bg-gray-100 rounded-lg overflow-hidden",children:(0,r.jsx)(i.default,{src:t.image||"/placeholder-product.jpg",alt:t.name,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[t.size&&"Size: ".concat(t.size),t.size&&t.color&&" • ",t.color&&"Color: ".concat(t.color)]}),(0,r.jsx)("p",{className:"text-primary-600 font-semibold mt-1",children:(0,u.xG)(t.price)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>n(t.quantity-1),className:"p-1 rounded-md hover:bg-gray-100",disabled:t.quantity<=1,children:(0,r.jsx)(l,{className:"w-4 h-4"})}),(0,r.jsx)("span",{className:"w-8 text-center font-semibold",children:t.quantity}),(0,r.jsx)("button",{onClick:()=>n(t.quantity+1),className:"p-1 rounded-md hover:bg-gray-100",disabled:t.quantity>=t.stock,children:(0,r.jsx)(d.Z,{className:"w-4 h-4"})})]}),(0,r.jsx)("div",{className:"text-right w-24",children:(0,r.jsx)("p",{className:"font-bold text-gray-900",children:(0,u.xG)(t.price*t.quantity)})}),(0,r.jsx)("button",{onClick:()=>a(t.productId),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",children:(0,r.jsx)(o.Z,{className:"w-5 h-5"})})]})}var x=s(9376),h=s(6334),p=s(605);function y(){let{cart:e}=(0,c.j)(),t=(0,x.useRouter)(),{data:s}=(0,p.useSession)(),a=e.totalPrice,n=a>999?0:50,i=.18*a;return(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Subtotal"}),(0,r.jsx)("span",{className:"font-semibold",children:(0,u.xG)(a)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Shipping"}),(0,r.jsx)("span",{className:"font-semibold",children:0===n?"FREE":(0,u.xG)(n)})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Tax (GST 18%)"}),(0,r.jsx)("span",{className:"font-semibold",children:(0,u.xG)(i)})]}),(0,r.jsxs)("div",{className:"border-t pt-3 flex justify-between text-lg font-bold",children:[(0,r.jsx)("span",{children:"Total"}),(0,r.jsx)("span",{className:"text-primary-600",children:(0,u.xG)(a+n+i)})]})]}),a<999&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Add ",(0,u.xG)(999-a)," more for free shipping!"]}),(0,r.jsx)(h.Z,{onClick:()=>{if(!s){t.push("/login?redirect=/checkout");return}t.push("/checkout")},className:"w-full",disabled:0===e.items.length,children:"Proceed to Checkout"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Secure checkout • Safe payments"})]})}function f(){let{cart:e,clearCart:t}=(0,c.j)();return 0===e.items.length?(0,r.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,r.jsx)(n.Z,{className:"w-24 h-24 mx-auto text-gray-300 mb-4"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Add some products to your cart to get started"}),(0,r.jsx)(a.default,{href:"/products",children:(0,r.jsx)(h.Z,{children:"Continue Shopping"})})]})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Shopping Cart"}),(0,r.jsx)("button",{onClick:t,className:"text-red-600 hover:text-red-700 font-medium",children:"Clear Cart"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Cart Items (",e.totalItems,")"]}),(0,r.jsx)("div",{className:"space-y-4",children:e.items.map(e=>(0,r.jsx)(m,{item:e},e.productId))})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(a.default,{href:"/products",children:(0,r.jsx)(h.Z,{variant:"outline",children:"← Continue Shopping"})})})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsx)(y,{})})]})]})}},6334:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437);function a(e){let{variant:t="primary",size:s="md",isLoading:a=!1,children:n,className:c="",disabled:i,...l}=e;return(0,r.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-600 text-white hover:bg-red-700",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[s]," ").concat(c),disabled:i||a,...l,children:a?(0,r.jsxs)("span",{className:"flex items-center justify-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n})}s(2265)},6059:function(e,t,s){"use strict";s.d(t,{CartProvider:function(){return i},j:function(){return l}});var r=s(7437),a=s(2265),n=s(9064);let c=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,a.useState)({items:[],totalItems:0,totalPrice:0});(0,a.useEffect)(()=>{let e=localStorage.getItem("cart");e&&i(JSON.parse(e))},[]),(0,a.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(s))},[s]);let l=e=>{i(t=>{let s=t.items.filter(t=>t.productId!==e),r=s.reduce((e,t)=>e+t.quantity,0),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return n.Am.success("Item removed from cart"),{items:s,totalItems:r,totalPrice:a}})};return(0,r.jsx)(c.Provider,{value:{cart:s,addToCart:e=>{i(t=>{let s;t.items.find(t=>t.productId===e.productId&&t.size===e.size&&t.color===e.color)?(s=t.items.map(t=>t.productId===e.productId&&t.size===e.size&&t.color===e.color?{...t,quantity:t.quantity+e.quantity}:t),n.Am.success("Item quantity updated")):(s=[...t.items,e],n.Am.success("Item added to cart"));let r=s.reduce((e,t)=>e+t.quantity,0),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return{items:s,totalItems:r,totalPrice:a}})},removeFromCart:l,updateQuantity:(e,t)=>{if(t<=0){l(e);return}i(s=>{let r=s.items.map(s=>s.productId===e?{...s,quantity:t}:s),a=r.reduce((e,t)=>e+t.quantity,0),n=r.reduce((e,t)=>e+t.price*t.quantity,0);return{items:r,totalItems:a,totalPrice:n}})},clearCart:()=>{i({items:[],totalItems:0,totalPrice:0}),n.Am.success("Cart cleared")},getCartTotal:()=>s.totalPrice},children:t})}function l(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},2746:function(e,t,s){"use strict";s.d(t,{Et:function(){return n},p6:function(){return a},xG:function(){return r}});let r=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(e),a=e=>new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}),n=(e,t)=>Math.round((e-t)/e*100)}},function(e){e.O(0,[64,648,605,157,971,117,744],function(){return e(e.s=4414)}),_N_E=e.O()}]);