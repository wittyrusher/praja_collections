(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{455:function(e,r,a){Promise.resolve().then(a.bind(a,564))},9376:function(e,r,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},564:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return d}});var s=a(7437),t=a(2265),n=a(9376),o=a(605),i=a(7648),l=a(2827),c=a(6334),m=a(9064);function d(){let e=(0,n.useRouter)(),[r,a]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",phone:""}),[d,u]=(0,t.useState)(!1),[p,h]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",phone:""}),x=e=>{let{name:r,value:s}=e.target;a(e=>({...e,[r]:s})),h(e=>({...e,[r]:""}))},f=()=>{let e={name:"",email:"",password:"",confirmPassword:"",phone:""},a=!0;return r.name.trim()||(e.name="Name is required",a=!1),r.email?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid",a=!1):(e.email="Email is required",a=!1),r.password?r.password.length<6&&(e.password="Password must be at least 6 characters",a=!1):(e.password="Password is required",a=!1),r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match",a=!1),r.phone&&!/^[6-9]\d{9}$/.test(r.phone)&&(e.phone="Invalid phone number",a=!1),h(e),a},y=async a=>{if(a.preventDefault(),f()){u(!0);try{let a=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.name,email:r.email,password:r.password,phone:r.phone})}),s=await a.json();if(!s.success)throw Error(s.error||"Registration failed");m.ZP.success("Registration successful! Logging you in...");let t=await (0,o.signIn)("credentials",{redirect:!1,email:r.email,password:r.password});(null==t?void 0:t.error)?(m.ZP.error("Please login manually"),e.push("/login")):(e.push("/"),e.refresh())}catch(e){m.ZP.error(e.message||"Registration failed")}finally{u(!1)}}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,s.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,s.jsx)(i.default,{href:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})]}),(0,s.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y,children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(l.Z,{label:"Full Name",type:"text",name:"name",value:r.name,onChange:x,error:p.name,placeholder:"John Doe",required:!0}),(0,s.jsx)(l.Z,{label:"Email Address",type:"email",name:"email",value:r.email,onChange:x,error:p.email,placeholder:"you@example.com",required:!0}),(0,s.jsx)(l.Z,{label:"Phone Number (Optional)",type:"tel",name:"phone",value:r.phone,onChange:x,error:p.phone,placeholder:"9876543210"}),(0,s.jsx)(l.Z,{label:"Password",type:"password",name:"password",value:r.password,onChange:x,error:p.password,placeholder:"••••••••",required:!0}),(0,s.jsx)(l.Z,{label:"Confirm Password",type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:x,error:p.confirmPassword,placeholder:"••••••••",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,s.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",(0,s.jsx)("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms and Conditions"})]})]}),(0,s.jsx)(c.Z,{type:"submit",className:"w-full",isLoading:d,children:"Create Account"})]})]})})}},6334:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});var s=a(7437);function t(e){let{variant:r="primary",size:a="md",isLoading:t=!1,children:n,className:o="",disabled:i,...l}=e;return(0,s.jsx)("button",{className:"".concat("font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300",danger:"bg-red-600 text-white hover:bg-red-700",outline:"border-2 border-primary-600 text-primary-600 hover:bg-primary-50"}[r]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[a]," ").concat(o),disabled:i||t,...l,children:t?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):n})}a(2265)},2827:function(e,r,a){"use strict";a.d(r,{Z:function(){return t}});var s=a(7437);function t(e){let{label:r,error:a,className:t="",...n}=e;return(0,s.jsxs)("div",{className:"w-full",children:[r&&(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,s.jsx)("input",{className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all ".concat(a?"border-red-500":"border-gray-300"," ").concat(t),...n}),a&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:a})]})}a(2265)}},function(e){e.O(0,[64,648,605,971,117,744],function(){return e(e.s=455)}),_N_E=e.O()}]);